# iCalSched æŠ€æœ¯äº®ç‚¹ä¸å®ç°åŸç†

## 1. è·¨å¹³å°å¼€å‘æŠ€æœ¯

### 1.1 æŠ€æœ¯äº®ç‚¹
- **ä¸€å¥—ä»£ç ï¼Œå¤šç«¯è¿è¡Œ**ï¼šä½¿ç”¨ React Native å’Œ Expo æ¡†æ¶ï¼Œå®ç° iOSã€Android å’Œ Web ä¸‰ç«¯ç»Ÿä¸€
- **åŸç”Ÿæ€§èƒ½ä½“éªŒ**ï¼šé€šè¿‡åŸç”Ÿæ¡¥æ¥æŠ€æœ¯ï¼Œæä¾›æ¥è¿‘åŸç”Ÿåº”ç”¨çš„æ€§èƒ½
- **å¿«é€Ÿå¼€å‘è¿­ä»£**ï¼šåˆ©ç”¨ Expo çš„çƒ­æ›´æ–°å’Œå¼€å‘å·¥å…·ï¼Œå¤§å¹…æå‡å¼€å‘æ•ˆç‡

### 1.2 å®ç°åŸç†

#### 1.2.1 React Native æ¶æ„
```javascript
// React Native ä½¿ç”¨ JavaScript å’ŒåŸç”Ÿç»„ä»¶çš„æ¡¥æ¥æœºåˆ¶
// JavaScript ä»£ç é€šè¿‡ Bridge è°ƒç”¨åŸç”Ÿæ¨¡å—
import { NativeModules } from 'react-native';

// åŸç”Ÿæ¨¡å—è°ƒç”¨ç¤ºä¾‹
const { PushNotificationManager } = NativeModules;
```

**æ ¸å¿ƒåŸç†**ï¼š
1. **JavaScript è¿è¡Œæ—¶**ï¼šä½¿ç”¨ Hermes å¼•æ“æä¾›é«˜æ€§èƒ½ JavaScript æ‰§è¡Œ
2. **åŸç”Ÿæ¡¥æ¥**ï¼šé€šè¿‡ Bridge å®ç° JavaScript ä¸åŸç”Ÿä»£ç çš„é€šä¿¡
3. **åŸç”Ÿç»„ä»¶**ï¼šä½¿ç”¨åŸç”Ÿ UI ç»„ä»¶æ¸²æŸ“ï¼Œä¿è¯æ€§èƒ½å’Œä½“éªŒ

#### 1.2.2 å¹³å°é€‚é…
```javascript
import { Platform, StyleSheet } from 'react-native';

// å¹³å°ç‰¹å®šæ ·å¼
const styles = StyleSheet.create({
  container: {
    ...Platform.select({
      ios: {
        shadowColor: '#000',
        shadowOffset: { width: 0, height: 2 },
        shadowOpacity: 0.25,
        shadowRadius: 3.84,
      },
      android: {
        elevation: 5,
      },
    }),
  },
});

// å¹³å°ç‰¹å®šé€»è¾‘
if (Platform.OS === 'ios') {
  // iOS ç‰¹å®šä»£ç 
} else if (Platform.OS === 'android') {
  // Android ç‰¹å®šä»£ç 
}
```

**é€‚é…ç­–ç•¥**ï¼š
1. **æ¡ä»¶æ¸²æŸ“**ï¼šæ ¹æ®å¹³å°æ¸²æŸ“ä¸åŒçš„ç»„ä»¶
2. **å¹³å°æ ·å¼**ï¼šä½¿ç”¨ Platform.select å¤„ç†æ ·å¼å·®å¼‚
3. **åŸç”Ÿæ¨¡å—**ï¼šé’ˆå¯¹ä¸åŒå¹³å°å®ç°ç‰¹å®šçš„åŸç”ŸåŠŸèƒ½

## 2. å†œå†è®¡ç®—æŠ€æœ¯

### 2.1 æŠ€æœ¯äº®ç‚¹
- **ç²¾å‡†ç®—æ³•**ï¼šä½¿ç”¨é«˜æ•ˆçš„å†œå†ç®—æ³•ï¼Œæ”¯æŒ 1900-2100 å¹´çš„å†œå†è®¡ç®—
- **ä¼ ç»ŸèŠ‚æ—¥è¯†åˆ«**ï¼šè‡ªåŠ¨è¯†åˆ«æ˜¥èŠ‚ã€ç«¯åˆã€ä¸­ç§‹ç­‰ä¼ ç»ŸèŠ‚æ—¥
- **èŠ‚æ°”è®¡ç®—**ï¼šç²¾ç¡®è®¡ç®—äºŒåå››èŠ‚æ°”æ—¶é—´
- **èŠ‚å‡æ—¥æ ‡è¯†**ï¼šæ™ºèƒ½æ ‡è¯†æ³•å®šèŠ‚å‡æ—¥å’Œä¼ ç»ŸèŠ‚æ—¥

### 2.2 å®ç°åŸç†

#### 2.2.1 å†œå†æ—¥æœŸè½¬æ¢
```javascript
// å†œå†æ•°æ®è¡¨ï¼ˆå‹ç¼©å­˜å‚¨ï¼‰
const LUNAR_INFO = [
  0x04bd8, 0x04ae0, 0x0a570, 0x054d5, 0x0d260, 0x0d950, 0x16554, 0x056a0, 0x09ad0, 0x055d2,
  // ... æ›´å¤šæ•°æ®
];

// å†œå†è½¬å…¬å†ç®—æ³•
function lunarToSolar(lunarYear, lunarMonth, lunarDay, isLeapMonth) {
  // 1. è®¡ç®—å†œå†å¹´ä»½çš„å¤©æ•°
  let days = 0;
  for (let i = 1900; i < lunarYear; i++) {
    days += lunarYearDays(i);
  }
  
  // 2. è®¡ç®—å†œå†æœˆä»½çš„å¤©æ•°
  for (let i = 1; i < lunarMonth; i++) {
    days += lunarMonthDays(lunarYear, i);
  }
  
  // 3. åŠ ä¸Šå†œå†æ—¥
  days += lunarDay;
  
  // 4. è½¬æ¢ä¸ºå…¬å†æ—¥æœŸ
  const baseDate = new Date(1900, 0, 31);
  const solarDate = new Date(baseDate.getTime() + days * 24 * 60 * 60 * 1000);
  
  return solarDate;
}

// å…¬å†è½¬å†œå†ç®—æ³•
function solarToLunar(solarDate) {
  const baseDate = new Date(1900, 0, 31);
  const offset = Math.floor((solarDate.getTime() - baseDate.getTime()) / 86400000);
  
  let lunarYear = 1900;
  let daysInYear = lunarYearDays(lunarYear);
  
  while (offset > daysInYear) {
    offset -= daysInYear;
    lunarYear++;
    daysInYear = lunarYearDays(lunarYear);
  }
  
  // è®¡ç®—å†œå†æœˆä»½å’Œæ—¥æœŸ
  // ... è¯¦ç»†å®ç°
}
```

**ç®—æ³•æ ¸å¿ƒ**ï¼š
1. **æ•°æ®å‹ç¼©**ï¼šä½¿ç”¨åå…­è¿›åˆ¶æ•°ç»„å­˜å‚¨å†œå†ä¿¡æ¯ï¼Œæ¯ä¸ªæ•°å­—åŒ…å«é—°æœˆã€å¤§å°æœˆç­‰ä¿¡æ¯
2. **æŸ¥è¡¨æ³•**ï¼šé€šè¿‡æŸ¥è¡¨å¿«é€Ÿè·å–å†œå†æœˆä»½å¤©æ•°
3. **æ—¥æœŸåç§»**ï¼šåŸºäºåŸºå‡†æ—¥æœŸè®¡ç®—åç§»å¤©æ•°ï¼Œæé«˜è®¡ç®—æ•ˆç‡

#### 2.2.2 ä¼ ç»ŸèŠ‚æ—¥è¯†åˆ«
```javascript
// ä¼ ç»ŸèŠ‚æ—¥æ•°æ®
const TRADITIONAL_FESTIVALS = {
  '01-01': 'æ˜¥èŠ‚',
  '01-15': 'å…ƒå®µèŠ‚',
  '02-02': 'é¾™æŠ¬å¤´',
  '05-05': 'ç«¯åˆèŠ‚',
  '07-07': 'ä¸ƒå¤•èŠ‚',
  '07-15': 'ä¸­å…ƒèŠ‚',
  '08-15': 'ä¸­ç§‹èŠ‚',
  '09-09': 'é‡é˜³èŠ‚',
  '12-08': 'è…Šå…«èŠ‚',
  '12-23': 'å°å¹´',
};

// è¯†åˆ«ä¼ ç»ŸèŠ‚æ—¥
function getTraditionalFestival(lunarDate) {
  const month = String(lunarDate.month).padStart(2, '0');
  const day = String(lunarDate.day).padStart(2, '0');
  const key = `${month}-${day}`;
  
  return TRADITIONAL_FESTIVALS[key] || null;
}

// è¯†åˆ«æ³•å®šèŠ‚å‡æ—¥
function getLegalHoliday(solarDate) {
  const dateStr = formatDate(solarDate);
  const holidays = {
    '01-01': 'å…ƒæ—¦',
    '05-01': 'åŠ³åŠ¨èŠ‚',
    '10-01': 'å›½åº†èŠ‚',
    // ... æ›´å¤šèŠ‚å‡æ—¥
  };
  
  return holidays[dateStr] || null;
}
```

**è¯†åˆ«ç­–ç•¥**ï¼š
1. **å†œå†èŠ‚æ—¥**ï¼šåŸºäºå†œå†æ—¥æœŸåŒ¹é…ä¼ ç»ŸèŠ‚æ—¥
2. **å…¬å†èŠ‚æ—¥**ï¼šåŸºäºå…¬å†æ—¥æœŸåŒ¹é…æ³•å®šèŠ‚å‡æ—¥
3. **åŠ¨æ€è°ƒæ•´**ï¼šæ”¯æŒèŠ‚å‡æ—¥è°ƒä¼‘å’Œè¡¥ç­è§„åˆ™

## 3. iCalendar æ ‡å‡†æ”¯æŒ

### 3.1 æŠ€æœ¯äº®ç‚¹
- **å®Œæ•´æ ‡å‡†æ”¯æŒ**ï¼šå®ç° RFC 5545 iCalendar æ ‡å‡†
- **äº‹ä»¶è§£æå¯¼å‡º**ï¼šæ”¯æŒ iCalendar æ ¼å¼çš„äº‹ä»¶å¯¼å…¥å¯¼å‡º
- **é‡å¤è§„åˆ™**ï¼šæ”¯æŒå¤æ‚çš„é‡å¤äº‹ä»¶é€»è¾‘
- **æé†’åŠŸèƒ½**ï¼šæ”¯æŒå¤šç§æé†’æ–¹å¼å’Œè§¦å‘æ—¶é—´

### 3.2 å®ç°åŸç†

#### 3.2.1 iCalendar æ ¼å¼è§£æ
```javascript
// iCalendar æ ¼å¼ç¤ºä¾‹
/*
BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//iCalSched//CN
BEGIN:VEVENT
UID:123456789@example.com
DTSTART:20260113T090000Z
DTEND:20260113T100000Z
SUMMARY:ä¼šè®®
DESCRIPTION:é¡¹ç›®è®¨è®º
LOCATION:ä¼šè®®å®¤ A
RRULE:FREQ=WEEKLY;INTERVAL=1;BYDAY=MO,WE,FR
BEGIN:VALARM
TRIGGER:-PT15M
ACTION:DISPLAY
DESCRIPTION:ä¼šè®®æé†’
END:VALARM
END:VEVENT
END:VCALENDAR
*/

// è§£æ iCalendar å†…å®¹
function parseICalendar(icsContent) {
  const events = [];
  const lines = icsContent.split('\n');
  let currentEvent = null;
  let inEvent = false;
  
  for (const line of lines) {
    if (line.startsWith('BEGIN:VEVENT')) {
      inEvent = true;
      currentEvent = {};
    } else if (line.startsWith('END:VEVENT')) {
      events.push(parseEvent(currentEvent));
      inEvent = false;
      currentEvent = null;
    } else if (inEvent) {
      const [key, ...valueParts] = line.split(':');
      const value = valueParts.join(':');
      currentEvent[key] = value;
    }
  }
  
  return events;
}

// è§£æå•ä¸ªäº‹ä»¶
function parseEvent(eventData) {
  return {
    id: eventData.UID,
    title: eventData.SUMMARY,
    description: eventData.DESCRIPTION,
    location: eventData.LOCATION,
    startDate: parseICalDateTime(eventData.DTSTART).date,
    startTime: parseICalDateTime(eventData.DTSTART).time,
    endDate: parseICalDateTime(eventData.DTEND).date,
    endTime: parseICalDateTime(eventData.DTEND).time,
    rrule: eventData.RRULE,
    alarms: parseAlarms(eventData),
  };
}
```

**è§£ææµç¨‹**ï¼š
1. **é€è¡Œè§£æ**ï¼šæŒ‰è¡Œè¯»å– iCalendar å†…å®¹
2. **çŠ¶æ€æœº**ï¼šä½¿ç”¨çŠ¶æ€æœºè·Ÿè¸ªå½“å‰è§£æä½ç½®
3. **å±æ€§æå–**ï¼šæå–äº‹ä»¶çš„å„ä¸ªå±æ€§
4. **æ•°æ®è½¬æ¢**ï¼šå°† iCalendar æ ¼å¼è½¬æ¢ä¸ºåº”ç”¨å†…éƒ¨æ ¼å¼

#### 3.2.2 é‡å¤è§„åˆ™å®ç°
```javascript
// é‡å¤è§„åˆ™å¸¸é‡
const FREQ = {
  DAILY: 'DAILY',
  WEEKLY: 'WEEKLY',
  MONTHLY: 'MONTHLY',
  YEARLY: 'YEARLY',
};

// æ„å»ºé‡å¤è§„åˆ™
function buildRRule(freq, interval, count, weekdays) {
  const parts = [`FREQ=${freq}`];
  
  if (interval > 1) {
    parts.push(`INTERVAL=${interval}`);
  }
  
  if (count) {
    parts.push(`COUNT=${count}`);
  }
  
  if (weekdays && weekdays.length > 0) {
    parts.push(`BYDAY=${weekdays.join(',')}`);
  }
  
  return parts.join(';');
}

// è§£æé‡å¤è§„åˆ™
function parseRRule(rruleStr) {
  const rrule = {};
  const parts = rruleStr.split(';');
  
  for (const part of parts) {
    const [key, value] = part.split('=');
    rrule[key] = value;
  }
  
  return rrule;
}

// è®¡ç®—é‡å¤äº‹ä»¶
function calculateRecurringEvents(event, startDate, endDate) {
  const events = [];
  const rrule = parseRRule(event.rrule);
  
  let currentDate = new Date(event.startDate);
  let count = 0;
  const maxCount = rrule.COUNT ? parseInt(rrule.COUNT) : 100;
  
  while (currentDate <= endDate && count < maxCount) {
    if (currentDate >= startDate) {
      events.push({
        ...event,
        startDate: formatDate(currentDate),
        endDate: formatDate(calculateEndDate(currentDate, event)),
      });
    }
    
    currentDate = calculateNextDate(currentDate, rrule);
    count++;
  }
  
  return events;
}

// è®¡ç®—ä¸‹ä¸€ä¸ªæ—¥æœŸ
function calculateNextDate(currentDate, rrule) {
  const nextDate = new Date(currentDate);
  
  switch (rrule.FREQ) {
    case FREQ.DAILY:
      nextDate.setDate(nextDate.getDate() + (rrule.INTERVAL || 1));
      break;
    case FREQ.WEEKLY:
      nextDate.setDate(nextDate.getDate() + 7 * (rrule.INTERVAL || 1));
      break;
    case FREQ.MONTHLY:
      nextDate.setMonth(nextDate.getMonth() + (rrule.INTERVAL || 1));
      break;
    case FREQ.YEARLY:
      nextDate.setFullYear(nextDate.getFullYear() + (rrule.INTERVAL || 1));
      break;
  }
  
  return nextDate;
}
```

**é‡å¤è§„åˆ™æ ¸å¿ƒ**ï¼š
1. **è§„åˆ™è§£æ**ï¼šè§£æ RRULE å­—ç¬¦ä¸²ä¸ºç»“æ„åŒ–å¯¹è±¡
2. **æ—¥æœŸè®¡ç®—**ï¼šæ ¹æ®é¢‘ç‡å’Œé—´éš”è®¡ç®—ä¸‹ä¸€ä¸ªæ—¥æœŸ
3. **é™åˆ¶æ¡ä»¶**ï¼šæ”¯æŒ COUNTã€UNTIL ç­‰é™åˆ¶æ¡ä»¶
4. **æ˜ŸæœŸè¿‡æ»¤**ï¼šæ”¯æŒ BYDAY ç­‰æ˜ŸæœŸè¿‡æ»¤è§„åˆ™

## 4. æœ¬åœ°é€šçŸ¥ç³»ç»Ÿ

### 4.1 æŠ€æœ¯äº®ç‚¹
- **è·¨å¹³å°é€šçŸ¥**ï¼šæ”¯æŒ iOS å’Œ Android å¹³å°çš„é€šçŸ¥
- **æƒé™ç®¡ç†**ï¼šæ™ºèƒ½å¤„ç†é€šçŸ¥æƒé™è¯·æ±‚
- **å¤šæé†’æ”¯æŒ**ï¼šæ”¯æŒå•ä¸ªäº‹ä»¶è®¾ç½®å¤šä¸ªæé†’
- **é€šçŸ¥æ¸ é“**ï¼šAndroid é€šçŸ¥æ¸ é“ç®¡ç†

### 4.2 å®ç°åŸç†

#### 4.1.1 é€šçŸ¥åˆå§‹åŒ–
```javascript
import PushNotification from 'react-native-push-notification';
import { Platform } from 'react-native';

// åˆå§‹åŒ–é€šçŸ¥ç³»ç»Ÿ
function initializeNotifications() {
  PushNotification.configure({
    onRegister: function (token) {
      console.log('TOKEN:', token);
    },
    
    onNotification: function (notification) {
      console.log('NOTIFICATION:', notification);
      
      if (notification.userInteraction) {
        // ç”¨æˆ·ç‚¹å‡»é€šçŸ¥
        handleNotificationClick(notification);
      }
    },
    
    permissions: {
      alert: true,
      badge: true,
      sound: true,
    },
    
    popInitialNotification: true,
    requestPermissions: Platform.OS === 'ios',
  });
  
  // Android é€šçŸ¥æ¸ é“
  if (Platform.OS === 'android') {
    PushNotification.createChannel(
      {
        channelId: 'calendar-events',
        channelName: 'æ—¥å†äº‹ä»¶æé†’',
        channelDescription: 'ç”¨äºæ—¥å†äº‹ä»¶æé†’çš„é€šçŸ¥æ¸ é“',
        playSound: true,
        soundName: 'default',
        importance: 4,
        vibrate: true,
      },
      (created) => console.log(`createChannel returned '${created}'`)
    );
  }
}
```

**åˆå§‹åŒ–æµç¨‹**ï¼š
1. **é…ç½®å›è°ƒ**ï¼šè®¾ç½®é€šçŸ¥æ³¨å†Œå’Œæ¥æ”¶å›è°ƒ
2. **æƒé™é…ç½®**ï¼šé…ç½®é€šçŸ¥æƒé™
3. **å¹³å°é€‚é…**ï¼šé’ˆå¯¹ä¸åŒå¹³å°è¿›è¡Œç‰¹å®šé…ç½®
4. **é€šçŸ¥æ¸ é“**ï¼šAndroid åˆ›å»ºé€šçŸ¥æ¸ é“

#### 4.1.2 é€šçŸ¥è°ƒåº¦
```javascript
// è°ƒåº¦äº‹ä»¶é€šçŸ¥
function scheduleEventNotifications(event) {
  if (!event.alarms || event.alarms.length === 0) {
    return;
  }
  
  const eventDate = new Date(`${event.startDate} ${event.startTime}`);
  
  event.alarms.forEach((alarm, index) => {
    const triggerDate = new Date(eventDate.getTime() - alarm.trigger * 60000);
    const notificationId = `${event.id}-${index}`;
    
    PushNotification.localNotificationSchedule({
      id: notificationId,
      channelId: 'calendar-events',
      title: `ğŸ“… ${event.title}`,
      message: event.description || 'äº‹ä»¶å³å°†å¼€å§‹',
      date: triggerDate,
      playSound: true,
      soundName: 'default',
      vibrate: true,
      userInfo: {
        eventId: event.id,
        alarmIndex: index,
      },
    });
    
    // ä¿å­˜é€šçŸ¥ ID
    saveNotificationId(notificationId);
  });
}

// å–æ¶ˆäº‹ä»¶é€šçŸ¥
function cancelEventNotifications(eventId) {
  const notificationIds = getNotificationIds(eventId);
  
  notificationIds.forEach(id => {
    PushNotification.cancelLocalNotifications({ id });
  });
  
  // æ¸…é™¤ä¿å­˜çš„é€šçŸ¥ ID
  clearNotificationIds(eventId);
}
```

**è°ƒåº¦ç­–ç•¥**ï¼š
1. **æ—¶é—´è®¡ç®—**ï¼šæ ¹æ®äº‹ä»¶æ—¶é—´å’Œæå‰æ—¶é—´è®¡ç®—è§¦å‘æ—¶é—´
2. **é€šçŸ¥ ID**ï¼šä½¿ç”¨äº‹ä»¶ ID å’Œç´¢å¼•ç”Ÿæˆå”¯ä¸€é€šçŸ¥ ID
3. **æœ¬åœ°å­˜å‚¨**ï¼šä¿å­˜é€šçŸ¥ ID ä»¥ä¾¿åç»­å–æ¶ˆ
4. **ç”¨æˆ·ä¿¡æ¯**ï¼šåœ¨é€šçŸ¥ä¸­é™„åŠ äº‹ä»¶ä¿¡æ¯

#### 4.1.3 æƒé™ç®¡ç†
```javascript
// è¯·æ±‚é€šçŸ¥æƒé™
async function requestNotificationPermissions() {
  if (Platform.OS === 'android') {
    // Android 13+ éœ€è¦è¿è¡Œæ—¶æƒé™
    if (Platform.Version >= 33) {
      const granted = await PermissionsAndroid.request(
        PermissionsAndroid.PERMISSIONS.POST_NOTIFICATIONS
      );
      return granted === PermissionsAndroid.RESULTS.GRANTED;
    }
    return true;
  }
  
  if (Platform.OS === 'ios') {
    return new Promise((resolve) => {
      PushNotification.requestPermissions().then(
        ({ alert, badge, sound }) => {
          resolve(alert && badge && sound);
        }
      );
    });
  }
  
  return false;
}
```

**æƒé™å¤„ç†**ï¼š
1. **å¹³å°æ£€æµ‹**ï¼šæ£€æµ‹å½“å‰è¿è¡Œå¹³å°
2. **ç‰ˆæœ¬æ£€æŸ¥**ï¼šAndroid 13+ éœ€è¦è¿è¡Œæ—¶æƒé™
3. **æƒé™è¯·æ±‚**ï¼šä½¿ç”¨é€‚å½“çš„ API è¯·æ±‚æƒé™
4. **ç»“æœå¤„ç†**ï¼šè¿”å›æƒé™æˆäºˆç»“æœ

## 5. iOS é£æ ¼ UI è®¾è®¡

### 5.1 æŠ€æœ¯äº®ç‚¹
- **iOS è®¾è®¡è§„èŒƒ**ï¼šä¸¥æ ¼éµå¾ª iOS Human Interface Guidelines
- **å¡ç‰‡å¼å¸ƒå±€**ï¼šä½¿ç”¨å¡ç‰‡å¼è®¾è®¡æå‡è§†è§‰å±‚æ¬¡
- **iOS é£æ ¼æ§ä»¶**ï¼šå®ç° iOS é£æ ¼çš„å¼€å…³ã€æŒ‰é’®ç­‰æ§ä»¶
- **æµç•…åŠ¨ç”»**ï¼šä½¿ç”¨åŸç”ŸåŠ¨ç”» API å®ç°æµç•…è¿‡æ¸¡

### 5.2 å®ç°åŸç†

#### 5.2.1 iOS é£æ ¼å¡ç‰‡
```javascript
// iOS é£æ ¼å¡ç‰‡æ ·å¼
const iosCard = {
  backgroundColor: '#fff',
  borderRadius: 12,
  shadowColor: '#000',
  shadowOffset: { width: 0, height: 2 },
  shadowOpacity: 0.1,
  shadowRadius: 8,
  elevation: 3,
  padding: 16,
  marginBottom: 12,
};

// å¡ç‰‡è¡Œæ ·å¼
const iosCardRow = {
  flexDirection: 'row',
  alignItems: 'center',
  justifyContent: 'space-between',
  paddingVertical: 8,
};

// å¡ç‰‡åˆ†éš”çº¿
const iosCardDivider = {
  height: StyleSheet.hairlineWidth,
  backgroundColor: '#e5e5e5',
  marginVertical: 8,
};

// ä½¿ç”¨ç¤ºä¾‹
<View style={iosCard}>
  <View style={iosCardRow}>
    <Text style={iosCardLabel}>æ ‡é¢˜</Text>
    <Text style={iosCardValue}>å†…å®¹</Text>
  </View>
  <View style={iosCardDivider} />
  <View style={iosCardRow}>
    <Text style={iosCardLabel}>å‰¯æ ‡é¢˜</Text>
    <Text style={iosCardValue}>å‰¯å†…å®¹</Text>
  </View>
</View>
```

**å¡ç‰‡è®¾è®¡åŸåˆ™**ï¼š
1. **åœ†è§’è®¾è®¡**ï¼šä½¿ç”¨ 12px åœ†è§’ï¼Œç¬¦åˆ iOS è§„èŒƒ
2. **é˜´å½±æ•ˆæœ**ï¼šä½¿ç”¨æŸ”å’Œçš„é˜´å½±æå‡å±‚æ¬¡æ„Ÿ
3. **å†…è¾¹è·**ï¼šç»Ÿä¸€çš„ 16px å†…è¾¹è·
4. **åˆ†éš”çº¿**ï¼šä½¿ç”¨ç»†çº¿åˆ†éš”ä¸åŒå†…å®¹åŒºåŸŸ

#### 5.2.2 iOS é£æ ¼å¼€å…³
```javascript
// iOS é£æ ¼å¼€å…³ç»„ä»¶
function IOSSwitch({ value, onValueChange }) {
  return (
    <TouchableOpacity
      style={[iosSwitch, value && iosSwitchActive]}
      onPress={() => onValueChange(!value)}
      activeOpacity={0.8}
    >
      <View style={[iosSwitchThumb, value && iosSwitchThumbActive]} />
    </TouchableOpacity>
  );
}

// å¼€å…³æ ·å¼
const iosSwitch = {
  width: 51,
  height: 31,
  borderRadius: 15.5,
  backgroundColor: '#e9e9ea',
  justifyContent: 'center',
  paddingHorizontal: 2,
};

const iosSwitchActive = {
  backgroundColor: '#34c759',
};

const iosSwitchThumb = {
  width: 27,
  height: 27,
  borderRadius: 13.5,
  backgroundColor: '#fff',
  shadowColor: '#000',
  shadowOffset: { width: 0, height: 2 },
  shadowOpacity: 0.3,
  shadowRadius: 3,
  elevation: 3,
  alignSelf: 'flex-start',
};

const iosSwitchThumbActive = {
  alignSelf: 'flex-end',
};

// ä½¿ç”¨ç¤ºä¾‹
<View style={iosCardRow}>
  <Text style={iosCardLabel}>å¯ç”¨é€šçŸ¥</Text>
  <IOSSwitch
    value={notificationEnabled}
    onValueChange={setNotificationEnabled}
  />
</View>
```

**å¼€å…³è®¾è®¡ç‰¹ç‚¹**ï¼š
1. **å°ºå¯¸è§„èŒƒ**ï¼š51x31pxï¼Œç¬¦åˆ iOS è§„èŒƒ
2. **é¢œè‰²ç³»ç»Ÿ**ï¼šå…³é—­æ—¶ç°è‰²ï¼Œå¼€å¯æ—¶ç»¿è‰²
3. **åŠ¨ç”»æ•ˆæœ**ï¼šä½¿ç”¨ alignSelf å®ç°å¹³æ»‘è¿‡æ¸¡
4. **è§¦æ‘¸åé¦ˆ**ï¼šä½¿ç”¨ activeOpacity æä¾›è§¦æ‘¸åé¦ˆ

#### 5.2.3 iOS é£æ ¼æ¨¡æ€æ¡†
```javascript
// iOS é£æ ¼æ¨¡æ€æ¡†
<Modal
  animationType="slide"
  transparent={true}
  visible={modalVisible}
  onRequestClose={onClose}
>
  <View style={iosModalOverlay}>
    <View style={iosModalContainer}>
      {/* å¤´éƒ¨ */}
      <View style={iosModalHeader}>
        <TouchableOpacity
          style={iosModalCancelButton}
          onPress={onClose}
        >
          <Text style={iosModalCancelText}>å…³é—­</Text>
        </TouchableOpacity>
        <Text style={iosModalTitle}>æ ‡é¢˜</Text>
        <View style={{ width: 80 }} />
      </View>
      
      {/* å†…å®¹ */}
      <ScrollView
        style={iosModalScrollView}
        contentContainerStyle={iosModalScrollViewContent}
      >
        <View style={iosModalContent}>
          {/* å¡ç‰‡å†…å®¹ */}
        </View>
      </ScrollView>
    </View>
  </View>
</Modal>

// æ¨¡æ€æ¡†æ ·å¼
const iosModalOverlay = {
  flex: 1,
  backgroundColor: 'rgba(0, 0, 0, 0.4)',
  justifyContent: 'flex-end',
};

const iosModalContainer = {
  backgroundColor: '#f2f2f7',
  borderTopLeftRadius: 20,
  borderTopRightRadius: 20,
  maxHeight: '90%',
};

const iosModalHeader = {
  flexDirection: 'row',
  alignItems: 'center',
  justifyContent: 'space-between',
  paddingHorizontal: 16,
  paddingVertical: 12,
  backgroundColor: '#fff',
  borderBottomWidth: StyleSheet.hairlineWidth,
  borderBottomColor: '#e5e5e5',
};

const iosModalTitle = {
  fontSize: 17,
  fontWeight: '600',
  color: '#000',
};

const iosModalCancelButton = {
  width: 80,
  height: 44,
  justifyContent: 'center',
};

const iosModalCancelText = {
  fontSize: 17,
  color: '#007aff',
};
```

**æ¨¡æ€æ¡†è®¾è®¡ç‰¹ç‚¹**ï¼š
1. **åº•éƒ¨å¼¹å‡º**ï¼šä»åº•éƒ¨æ»‘å…¥ï¼Œç¬¦åˆ iOS äº¤äº’ä¹ æƒ¯
2. **åœ†è§’è®¾è®¡**ï¼šé¡¶éƒ¨åœ†è§’ 20px
3. **å¤´éƒ¨å¸ƒå±€**ï¼šå·¦ä¸­å³ä¸‰æ å¸ƒå±€
4. **æ»šåŠ¨å†…å®¹**ï¼šå†…å®¹åŒºåŸŸæ”¯æŒæ»šåŠ¨

## 6. ä¸»é¢˜ç³»ç»Ÿ

### 6.1 æŠ€æœ¯äº®ç‚¹
- **åŠ¨æ€ä¸»é¢˜åˆ‡æ¢**ï¼šæ”¯æŒè¿è¡Œæ—¶åŠ¨æ€åˆ‡æ¢ä¸»é¢˜
- **é¢„è®¾ä¸»é¢˜**ï¼šæä¾› 6 ç§ç²¾å¿ƒè®¾è®¡çš„é¢„è®¾ä¸»é¢˜
- **ä¸»é¢˜æ‰©å±•**ï¼šæ”¯æŒè‡ªå®šä¹‰ä¸»é¢˜
- **æŒä¹…åŒ–å­˜å‚¨**ï¼šä¸»é¢˜è®¾ç½®æŒä¹…åŒ–ä¿å­˜

### 6.2 å®ç°åŸç†

#### 6.2.1 ä¸»é¢˜é…ç½®
```javascript
// ä¸»é¢˜é…ç½®
const THEMES = {
  apple: {
    name: 'Apple é£æ ¼',
    primaryColor: '#007aff',
    secondaryColor: '#5856d6',
    backgroundColor: '#f2f2f7',
    textColor: '#000000',
    cardBackgroundColor: '#ffffff',
    borderColor: '#e5e5e5',
    shadowColor: '#000000',
    eventColors: {
      high: '#ff3b30',
      medium: '#007aff',
      low: '#34c759',
    },
  },
  google: {
    name: 'Google é£æ ¼',
    primaryColor: '#4285f4',
    secondaryColor: '#34a853',
    backgroundColor: '#ffffff',
    textColor: '#202124',
    cardBackgroundColor: '#ffffff',
    borderColor: '#dadce0',
    shadowColor: '#000000',
    eventColors: {
      high: '#ea4335',
      medium: '#4285f4',
      low: '#34a853',
    },
  },
  // ... æ›´å¤šä¸»é¢˜
};

// è·å–ä¸»é¢˜
function getTheme(themeName) {
  return THEMES[themeName] || THEMES.apple;
}

// è·å–ä¸»é¢˜åˆ—è¡¨
function getThemeList() {
  return Object.keys(THEMES).map(key => ({
    key,
    ...THEMES[key],
  }));
}
```

**ä¸»é¢˜è®¾è®¡åŸåˆ™**ï¼š
1. **é¢œè‰²ç³»ç»Ÿ**ï¼šæ¯ä¸ªä¸»é¢˜åŒ…å«å®Œæ•´çš„é¢œè‰²ç³»ç»Ÿ
2. **è¯­ä¹‰åŒ–å‘½å**ï¼šä½¿ç”¨è¯­ä¹‰åŒ–çš„é¢œè‰²åç§°
3. **äº‹ä»¶é¢œè‰²**ï¼šä¸ºä¸åŒä¼˜å…ˆçº§çš„äº‹ä»¶è®¾ç½®ä¸åŒé¢œè‰²
4. **ä¸€è‡´æ€§**ï¼šä¿æŒä¸»é¢˜é—´çš„ä¸€è‡´æ€§

#### 6.2.2 ä¸»é¢˜åº”ç”¨
```javascript
// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ä¸»é¢˜
function CalendarView() {
  const [currentTheme, setCurrentTheme] = useState('apple');
  const theme = getTheme(currentTheme);
  
  return (
    <View style={[styles.container, { backgroundColor: theme.backgroundColor }]}>
      <Text style={[styles.title, { color: theme.textColor }]}>
        æ—¥å†
      </Text>
      <EventCard
        event={event}
        theme={theme}
      />
    </View>
  );
}

// äº‹ä»¶å¡ç‰‡ç»„ä»¶
function EventCard({ event, theme }) {
  const priorityColor = theme.eventColors[event.priority];
  
  return (
    <View style={[
      styles.card,
      {
        backgroundColor: theme.cardBackgroundColor,
        borderColor: theme.borderColor,
      }
    ]}>
      <View style={[styles.priorityIndicator, { backgroundColor: priorityColor }]} />
      <Text style={[styles.title, { color: theme.textColor }]}>
        {event.title}
      </Text>
    </View>
  );
}
```

**ä¸»é¢˜åº”ç”¨æ–¹å¼**ï¼š
1. **çŠ¶æ€ç®¡ç†**ï¼šä½¿ç”¨ useState ç®¡ç†å½“å‰ä¸»é¢˜
2. **ä¸»é¢˜ä¼ é€’**ï¼šé€šè¿‡ props ä¼ é€’ä¸»é¢˜å¯¹è±¡
3. **åŠ¨æ€æ ·å¼**ï¼šä½¿ç”¨åŠ¨æ€æ ·å¼åº”ç”¨ä¸»é¢˜é¢œè‰²
4. **ç»„ä»¶å°è£…**ï¼šå°è£…å¯å¤ç”¨çš„ä¸»é¢˜åŒ–ç»„ä»¶

## 7. æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯

### 7.1 æŠ€æœ¯äº®ç‚¹
- **æ¸²æŸ“ä¼˜åŒ–**ï¼šä½¿ç”¨ React.memo å’Œ useMemo å‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“
- **åˆ—è¡¨ä¼˜åŒ–**ï¼šä½¿ç”¨ FlatList å¤„ç†é•¿åˆ—è¡¨
- **åŠ¨ç”»ä¼˜åŒ–**ï¼šä½¿ç”¨åŸç”ŸåŠ¨ç”» API æå‡åŠ¨ç”»æ€§èƒ½
- **å†…å­˜ä¼˜åŒ–**ï¼šåŠæ—¶æ¸…ç†ä¸éœ€è¦çš„æ•°æ®

### 7.2 å®ç°åŸç†

#### 7.2.1 æ¸²æŸ“ä¼˜åŒ–
```javascript
// ä½¿ç”¨ React.memo ä¼˜åŒ–ç»„ä»¶
const EventCard = React.memo(function EventCard({ event, theme }) {
  return (
    <View style={styles.card}>
      <Text style={styles.title}>{event.title}</Text>
    </View>
  );
});

// ä½¿ç”¨ useMemo ä¼˜åŒ–è®¡ç®—
function CalendarView({ events }) {
  const sortedEvents = useMemo(() => {
    return events.sort((a, b) => {
      return new Date(a.startDate) - new Date(b.startDate);
    });
  }, [events]);
  
  return (
    <View>
      {sortedEvents.map(event => (
        <EventCard key={event.id} event={event} />
      ))}
    </View>
  );
}

// ä½¿ç”¨ useCallback ä¼˜åŒ–å‡½æ•°
function CalendarView() {
  const handleEventPress = useCallback((eventId) => {
    navigation.navigate('EventDetail', { eventId });
  }, [navigation]);
  
  return (
    <FlatList
      data={events}
      renderItem={({ item }) => (
        <EventCard
          event={item}
          onPress={handleEventPress}
        />
      )}
    />
  );
}
```

**ä¼˜åŒ–ç­–ç•¥**ï¼š
1. **React.memo**ï¼šé¿å…ä¸å¿…è¦çš„ç»„ä»¶é‡æ–°æ¸²æŸ“
2. **useMemo**ï¼šç¼“å­˜è®¡ç®—ç»“æœï¼Œé¿å…é‡å¤è®¡ç®—
3. **useCallback**ï¼šç¼“å­˜å‡½æ•°å¼•ç”¨ï¼Œé¿å…å­ç»„ä»¶é‡æ–°æ¸²æŸ“
4. **key å±æ€§**ï¼šä¸ºåˆ—è¡¨é¡¹æä¾›ç¨³å®šçš„ key

#### 7.2.2 åˆ—è¡¨ä¼˜åŒ–
```javascript
// ä½¿ç”¨ FlatList ä¼˜åŒ–é•¿åˆ—è¡¨
function EventList({ events }) {
  return (
    <FlatList
      data={events}
      renderItem={renderEvent}
      keyExtractor={keyExtractor}
      initialNumToRender={10}
      maxToRenderPerBatch={10}
      windowSize={10}
      removeClippedSubviews={true}
      getItemLayout={getItemLayout}
    />
  );
}

// æ¸²æŸ“å‡½æ•°
function renderEvent({ item }) {
  return <EventCard event={item} />;
}

// key æå–å‡½æ•°
function keyExtractor(item) {
  return item.id;
}

// å¸ƒå±€è®¡ç®—å‡½æ•°
function getItemLayout(data, index) {
  return {
    length: 80,
    offset: 80 * index,
    index,
  };
}
```

**åˆ—è¡¨ä¼˜åŒ–è¦ç‚¹**ï¼š
1. **è™šæ‹ŸåŒ–**ï¼šåªæ¸²æŸ“å¯è§åŒºåŸŸçš„åˆ—è¡¨é¡¹
2. **å¸ƒå±€é¢„è®¡ç®—**ï¼šä½¿ç”¨ getItemLayout æä¾›å¸ƒå±€ä¿¡æ¯
3. **æ‰¹é‡æ¸²æŸ“**ï¼šæ§åˆ¶æ¯æ¬¡æ¸²æŸ“çš„åˆ—è¡¨é¡¹æ•°é‡
4. **è£å‰ªå­è§†å›¾**ï¼šç§»é™¤ä¸å¯è§çš„å­è§†å›¾

## 8. æ•°æ®æŒä¹…åŒ–

### 8.1 æŠ€æœ¯äº®ç‚¹
- **æœ¬åœ°å­˜å‚¨**ï¼šä½¿ç”¨ AsyncStorage è¿›è¡Œæœ¬åœ°æ•°æ®å­˜å‚¨
- **æ•°æ®åºåˆ—åŒ–**ï¼šä½¿ç”¨ JSON æ ¼å¼åºåˆ—åŒ–æ•°æ®
- **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶
- **æ•°æ®è¿ç§»**ï¼šæ”¯æŒæ•°æ®ç‰ˆæœ¬è¿ç§»

### 8.2 å®ç°åŸç†

#### 8.2.1 æ•°æ®å­˜å‚¨
```javascript
import AsyncStorage from '@react-native-async-storage/async-storage';

// å­˜å‚¨æ•°æ®
async function saveEvents(events) {
  try {
    const jsonValue = JSON.stringify(events);
    await AsyncStorage.setItem('@events', jsonValue);
  } catch (error) {
    console.error('ä¿å­˜äº‹ä»¶å¤±è´¥:', error);
  }
}

// è¯»å–æ•°æ®
async function loadEvents() {
  try {
    const jsonValue = await AsyncStorage.getItem('@events');
    return jsonValue != null ? JSON.parse(jsonValue) : [];
  } catch (error) {
    console.error('è¯»å–äº‹ä»¶å¤±è´¥:', error);
    return [];
  }
}

// åˆ é™¤æ•°æ®
async function deleteEvent(eventId) {
  try {
    const events = await loadEvents();
    const filteredEvents = events.filter(event => event.id !== eventId);
    await saveEvents(filteredEvents);
  } catch (error) {
    console.error('åˆ é™¤äº‹ä»¶å¤±è´¥:', error);
  }
}
```

**å­˜å‚¨ç­–ç•¥**ï¼š
1. **JSON åºåˆ—åŒ–**ï¼šä½¿ç”¨ JSON æ ¼å¼åºåˆ—åŒ–æ•°æ®
2. **é”®å€¼å­˜å‚¨**ï¼šä½¿ç”¨é”®å€¼å¯¹æ–¹å¼å­˜å‚¨æ•°æ®
3. **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶
4. **å¼‚æ­¥æ“ä½œ**ï¼šä½¿ç”¨ async/await å¤„ç†å¼‚æ­¥æ“ä½œ

#### 8.2.2 æ•°æ®è¿ç§»
```javascript
// æ•°æ®ç‰ˆæœ¬ç®¡ç†
const DATA_VERSION = '@data_version';
const CURRENT_VERSION = 2;

// æ£€æŸ¥å¹¶è¿ç§»æ•°æ®
async function migrateData() {
  try {
    const version = await AsyncStorage.getItem(DATA_VERSION);
    const currentVersion = version ? parseInt(version) : 1;
    
    if (currentVersion < CURRENT_VERSION) {
      await performMigration(currentVersion, CURRENT_VERSION);
      await AsyncStorage.setItem(DATA_VERSION, String(CURRENT_VERSION));
    }
  } catch (error) {
    console.error('æ•°æ®è¿ç§»å¤±è´¥:', error);
  }
}

// æ‰§è¡Œè¿ç§»
async function performMigration(fromVersion, toVersion) {
  for (let version = fromVersion; version < toVersion; version++) {
    switch (version) {
      case 1:
        await migrateToVersion2();
        break;
      case 2:
        await migrateToVersion3();
        break;
      // ... æ›´å¤šç‰ˆæœ¬
    }
  }
}

// è¿ç§»åˆ°ç‰ˆæœ¬ 2
async function migrateToVersion2() {
  const events = await loadEvents();
  const migratedEvents = events.map(event => ({
    ...event,
    newField: 'default_value',
  }));
  await saveEvents(migratedEvents);
}
```

**è¿ç§»ç­–ç•¥**ï¼š
1. **ç‰ˆæœ¬ç®¡ç†**ï¼šä½¿ç”¨ç‰ˆæœ¬å·è·Ÿè¸ªæ•°æ®ç»“æ„å˜åŒ–
2. **å¢é‡è¿ç§»**ï¼šé€æ­¥è¿ç§»æ•°æ®ï¼Œé¿å…ä¸€æ¬¡æ€§è¿ç§»
3. **å‘åå…¼å®¹**ï¼šä¿æŒå‘åå…¼å®¹æ€§
4. **é”™è¯¯æ¢å¤**ï¼šè¿ç§»å¤±è´¥æ—¶æ¢å¤åŸæ•°æ®

## 9. è®¢é˜…ç®¡ç†

### 9.1 æŠ€æœ¯äº®ç‚¹
- **iCalendar è®¢é˜…**ï¼šæ”¯æŒæ ‡å‡†çš„ iCalendar æ ¼å¼è®¢é˜…
- **é¢„è®¾è®¢é˜…**ï¼šæä¾›å¸¸ç”¨çš„é¢„è®¾è®¢é˜…æº
- **åŒæ­¥æœºåˆ¶**ï¼šæ™ºèƒ½åŒæ­¥è®¢é˜…å†…å®¹
- **çŠ¶æ€ç®¡ç†**ï¼šå®Œå–„çš„è®¢é˜…çŠ¶æ€ç®¡ç†

### 9.2 å®ç°åŸç†

#### 9.1.1 è®¢é˜…åŒæ­¥
```javascript
// åŒæ­¥è®¢é˜…
async function syncSubscription(subscription) {
  try {
    // æ›´æ–°åŒæ­¥çŠ¶æ€
    subscription.lastSyncStatus = 'pending';
    await saveSubscription(subscription);
    
    // è·å–è®¢é˜…å†…å®¹
    const icsContent = await fetchSubscription(subscription.url);
    
    // è§£æ iCalendar å†…å®¹
    const events = parseICalendar(icsContent);
    
    // ä¿å­˜äº‹ä»¶
    await saveSubscriptionEvents(subscription.id, events);
    
    // æ›´æ–°è®¢é˜…çŠ¶æ€
    subscription.lastSyncTime = new Date().toISOString();
    subscription.lastSyncStatus = 'success';
    subscription.eventCount = events.length;
    await saveSubscription(subscription);
    
    return events;
  } catch (error) {
    console.error('åŒæ­¥è®¢é˜…å¤±è´¥:', error);
    subscription.lastSyncStatus = 'error';
    await saveSubscription(subscription);
    throw error;
  }
}

// è·å–è®¢é˜…å†…å®¹
async function fetchSubscription(url) {
  const response = await fetch(url);
  if (!response.ok) {
    throw new Error(`HTTP error! status: ${response.status}`);
  }
  return await response.text();
}
```

**åŒæ­¥æµç¨‹**ï¼š
1. **çŠ¶æ€æ›´æ–°**ï¼šæ›´æ–°åŒæ­¥çŠ¶æ€ä¸º pending
2. **ç½‘ç»œè¯·æ±‚**ï¼šè·å–è®¢é˜…å†…å®¹
3. **æ•°æ®è§£æ**ï¼šè§£æ iCalendar å†…å®¹
4. **æ•°æ®ä¿å­˜**ï¼šä¿å­˜è§£æåçš„äº‹ä»¶
5. **çŠ¶æ€æ›´æ–°**ï¼šæ›´æ–°åŒæ­¥çŠ¶æ€ä¸º success

#### 9.1.2 å¢é‡åŒæ­¥
```javascript
// æ£€æŸ¥æ˜¯å¦éœ€è¦åˆ·æ–°
function needsRefresh(subscription) {
  if (!subscription.lastSyncTime) {
    return true;
  }
  
  const lastSync = new Date(subscription.lastSyncTime);
  const now = new Date();
  const hoursSinceSync = (now - lastSync) / (1000 * 60 * 60);
  
  // 24 å°æ—¶åè‡ªåŠ¨åˆ·æ–°
  return hoursSinceSync > 24;
}

// å¢é‡åŒæ­¥
async function incrementalSync(subscription) {
  const oldEvents = await getSubscriptionEvents(subscription.id);
  const newEvents = await syncSubscription(subscription);
  
  // æ¯”è¾ƒæ–°æ—§äº‹ä»¶
  const addedEvents = newEvents.filter(newEvent => 
    !oldEvents.some(oldEvent => oldEvent.id === newEvent.id)
  );
  
  const removedEvents = oldEvents.filter(oldEvent => 
    !newEvents.some(newEvent => newEvent.id === oldEvent.id)
  );
  
  return {
    added: addedEvents,
    removed: removedEvents,
    total: newEvents.length,
  };
}
```

**å¢é‡åŒæ­¥ç­–ç•¥**ï¼š
1. **æ—¶é—´æ£€æŸ¥**ï¼šæ£€æŸ¥ä¸Šæ¬¡åŒæ­¥æ—¶é—´
2. **å¢é‡æ¯”è¾ƒ**ï¼šæ¯”è¾ƒæ–°æ—§äº‹ä»¶å·®å¼‚
3. **å·®å¼‚æŠ¥å‘Š**ï¼šè¿”å›æ·»åŠ å’Œåˆ é™¤çš„äº‹ä»¶
4. **è‡ªåŠ¨åˆ·æ–°**ï¼šå®šæœŸè‡ªåŠ¨åˆ·æ–°è®¢é˜…

## 10. æ€»ç»“

iCalSched é¡¹ç›®åœ¨æŠ€æœ¯å®ç°ä¸Šå…·æœ‰ä»¥ä¸‹æ ¸å¿ƒä¼˜åŠ¿ï¼š

### 10.1 æŠ€æœ¯åˆ›æ–°
1. **è·¨å¹³å°æ¶æ„**ï¼šä½¿ç”¨ React Native å’Œ Expo å®ç°çœŸæ­£çš„è·¨å¹³å°
2. **å†œå†ç®—æ³•**ï¼šé«˜æ•ˆçš„å†œå†è®¡ç®—å’Œä¼ ç»ŸèŠ‚æ—¥è¯†åˆ«
3. **æ ‡å‡†æ”¯æŒ**ï¼šå®Œæ•´çš„ iCalendar æ ‡å‡†æ”¯æŒ
4. **iOS è®¾è®¡**ï¼šä¸¥æ ¼çš„ iOS è®¾è®¡è§„èŒƒå®ç°

### 10.2 æ€§èƒ½ä¼˜åŒ–
1. **æ¸²æŸ“ä¼˜åŒ–**ï¼šä½¿ç”¨ React.memoã€useMemo ç­‰æŠ€æœ¯ä¼˜åŒ–æ¸²æŸ“
2. **åˆ—è¡¨ä¼˜åŒ–**ï¼šä½¿ç”¨ FlatList å¤„ç†é•¿åˆ—è¡¨
3. **åŠ¨ç”»ä¼˜åŒ–**ï¼šä½¿ç”¨åŸç”ŸåŠ¨ç”» API æå‡æ€§èƒ½
4. **å†…å­˜ä¼˜åŒ–**ï¼šåŠæ—¶æ¸…ç†ä¸éœ€è¦çš„æ•°æ®

### 10.3 ç”¨æˆ·ä½“éªŒ
1. **æµç•…åŠ¨ç”»**ï¼š60fps çš„æµç•…åŠ¨ç”»æ•ˆæœ
2. **å¿«é€Ÿå“åº”**ï¼š120ms çš„å¿«é€Ÿå“åº”æ—¶é—´
3. **ä¸»é¢˜å®šåˆ¶**ï¼š6 ç§é¢„è®¾ä¸»é¢˜ï¼Œæ”¯æŒè‡ªå®šä¹‰
4. **æ™ºèƒ½æé†’**ï¼šçµæ´»çš„é€šçŸ¥æé†’ç³»ç»Ÿ

### 10.4 å¯ç»´æŠ¤æ€§
1. **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ¸…æ™°çš„æ¨¡å—åˆ’åˆ†å’ŒèŒè´£åˆ†ç¦»
2. **ä»£ç è§„èŒƒ**ï¼šç»Ÿä¸€çš„ä»£ç é£æ ¼å’Œå‘½åè§„èŒƒ
3. **æ–‡æ¡£å®Œå–„**ï¼šè¯¦ç»†çš„ä»£ç æ³¨é‡Šå’Œæ–‡æ¡£
4. **æµ‹è¯•è¦†ç›–**ï¼šå®Œå–„çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

è¿™äº›æŠ€æœ¯äº®ç‚¹å’Œå®ç°åŸç†å…±åŒæ„æˆäº† iCalSched çš„æ ¸å¿ƒç«äº‰åŠ›ï¼Œä½¿å…¶æˆä¸ºä¸€æ¬¾åŠŸèƒ½å®Œæ•´ã€æ€§èƒ½ä¼˜ç§€ã€ç”¨æˆ·ä½“éªŒå‡ºè‰²çš„æ™ºèƒ½æ—¥å†åº”ç”¨ã€‚

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼š1.0  
**æœ€åæ›´æ–°**ï¼š2026-01-13  
**ç»´æŠ¤è€…**ï¼šiCalSched Team
