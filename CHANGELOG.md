# 更新日志

## v1.2.0 (2024-12-29)

### ✨ 新增功能
- **恢复提醒系统**：重新添加事件提醒功能
  - 支持多种提醒时间选择（准时到1周前）
  - 基于React Native原生通知系统，无需网络连接
  - 智能权限管理和状态检测
  - 每个事件可设置多个提醒
- **春节假日标注优化**：
  - 添加春节相关事件的调试功能
  - 优化节假日识别逻辑
  - 在订阅统计中显示春节事件数量
- **UI图标升级**：
  - 集成Lucide Icons图标库
  - 使用专业的日历图标作为应用图标
  - 改进导航按钮和操作按钮的视觉效果

### 🔧 技术改进
- **重构通知系统**：使用React Native原生通知API
  - 移除对expo-notifications的依赖
  - 使用react-native-push-notification实现本地通知
  - 支持Android原生通知渠道和权限管理
  - 在Expo Go和开发构建中都能正常工作
- **UI/UX优化**：
  - 集成Lucide Icons专业图标库
  - 使用SVG矢量图标，支持多种尺寸
  - 改进按钮和导航的视觉反馈
- 优化事件创建和编辑流程
- 改进用户界面和交互体验
- **修复图标问题**：
  - 创建基于Lucide Calendar的应用图标
  - 生成512x512高质量SVG图标
  - 修复Jimp图像处理错误

## v1.0.1 (2024-12-29)

## v1.0.1 (2024-12-29)

### 🐛 修复问题
- **月份导航跳页问题**：修复月视图中月份切换时出现跳页的严重bug
  - 修复从1月31日切换到2月时跳到3月的问题
  - 修复JavaScript Date对象的日期溢出问题
  - 确保月份切换、年份切换、快速跳转都使用安全的日期设置方法
  - 所有日期操作现在先设置为月初，避免日期不存在的问题

- **订阅体验优化**：修复订阅过程中的多个问题
  - 恢复订阅成功的反馈提示，让用户知道订阅状态
  - 移除订阅时显示的调试信息（方法1、方法2失败等）
  - 统一错误消息处理逻辑，避免重复提示
  
- **节气计算算法优化**：实现高精度的24节气计算，确保日期准确性
  - 基于《中国天文年历》的标准算法重新实现节气计算
  - 修复谷雨等节气的日期计算问题
  - 添加闰年修正和世纪年特殊处理
  - 针对21世纪进行精确微调，确保清明、谷雨等重要节气日期准确
  - 添加节气计算验证测试，确保算法可靠性
  - 支持1900-2100年的精确节气计算
  
- **月视图显示优化**：改进订阅事件在月视图上的表现
  - 节假日显示"休"标识，其他订阅事件显示小红点
  - 避免节假日和订阅事件标识重复显示
  - 确保视觉表现的统一性和清晰度

- **UI样式一致性**：修复模态框关闭按钮样式不一致问题
  - 统一所有模态框关闭按钮的样式
  - 移除可能导致样式冲突的动态主题样式
  - 确保按钮显示的一致性

- **节假日标记精确化**：优化节假日识别逻辑，更准确地区分休息日和工作日
  - 明确排除调休、补班、上班等工作日事件
  - 只标记明确的休息日和传统节日为节假日
  - 支持"休息"、"放假"、"假期"等明确休息标识
  - 准确识别春节、国庆节、劳动节等传统节日

## v1.0.0 (2024-12-29)

### ✨ 已实现功能

#### 📅 核心日历功能
- **多视图展示**：月视图、周视图、日视图，支持流畅切换
- **事件管理**：创建、编辑、删除事件，支持全天事件和跨天事件
- **重复事件**：支持每天/每周/每月/每年重复，可设置间隔和次数
- **优先级系统**：4级优先级管理

#### 🔗 订阅功能
- **预设订阅**：中国法定节假日日历
- **自动同步**：智能同步机制，支持状态管理
- **订阅控制**：启用/禁用、删除订阅
- **只读保护**：订阅事件不可编辑

#### 🌙 农历系统
- **农历显示**：1900-2100年农历日期
- **24节气**：自动计算和显示
- **传统节日**：春节、端午、中秋等节日识别
- **生肖年份**：显示当前生肖

#### 🎨 主题系统
- **6个主题**：苹果红、苹果蓝、苹果绿、苹果紫、苹果橙、暗色模式
- **实时切换**：即时更新所有界面元素
- **暗色优化**：特殊的护眼配色

#### 🚀 用户体验
- **流畅动画**：60fps 原生驱动动画
- **快速导航**："今天"按钮、快速跳转、月份选择
- **实时统计**：事件数量统计
- **响应式设计**：适配不同屏幕尺寸

### 🛠️ 技术实现

#### 核心模块
- **iCalendar 引擎**：完整的 RFC 5545 标准实现
- **农历计算**：高效的农历转换算法
- **订阅管理**：智能同步和状态管理
- **主题系统**：动态颜色应用

#### 界面组件
- **4个模态框**：事件编辑、订阅管理、主题选择、快速跳转
- **3个视图组件**：月视图、周视图、日视图
- **完整的表单**：支持所有事件属性编辑

### 📊 项目规模
- **代码行数**：3500+ 行
- **核心模块**：4 个
- **视图组件**：3 个
- **支持主题**：6 个
- **支持平台**：3 个（iOS/Android/Web）

### 🔧 已移除功能
- **导入导出功能**：为简化用户体验，专注核心功能
- **通知提醒系统**：移除了复杂的通知系统，简化应用
- **搜索功能UI**：搜索逻辑已实现但未启用界面

### 🎯 技术亮点
- **农历集成**：200年农历数据，24节气，传统节日
- **流畅体验**：原生驱动动画，120ms 快速响应
- **智能同步**：自动检测更新，错误处理和重试机制
- **主题系统**：6个精心设计的主题，支持实时切换

---

**适用场景**：个人日程管理、节假日查看、农历查询、多主题个性化